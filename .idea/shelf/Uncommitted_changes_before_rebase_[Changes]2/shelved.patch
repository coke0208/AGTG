Index: app/src/main/java/com/example/test/ProductActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.test\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.Button\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.example.test.databinding.ActivityProductBinding\r\nimport com.example.test.productinfo.FirebaseRF\r\nimport com.example.test.productinfo.ProductDB\r\nimport com.google.firebase.database.DatabaseReference\r\nimport com.google.firebase.database.FirebaseDatabase\r\nimport com.google.zxing.integration.android.IntentIntegrator\r\nimport com.google.zxing.integration.android.IntentResult\r\nimport org.json.JSONException\r\nimport org.json.JSONObject\r\n\r\nclass ProductActivity : AppCompatActivity() {\r\n    //view Objects\r\n    private lateinit var binding: ActivityProductBinding\r\n    private var textViewName: TextView? = null\r\n    private var textViewAddres: TextView? = null\r\n    private var textViewedate: TextView? = null\r\n    private var textViewcdate: TextView? = null\r\n    private var textViewinfo: TextView? = null\r\n\r\n    private var mDatabase: DatabaseReference? = null\r\n    private var btnSave: Button? = null\r\n    private var btnFrozenSave: Button? = null\r\n    private var btnRoomSave: Button? = null\r\n\r\n    //qr code scanner object\r\n    private var qrScan: IntentIntegrator? = null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityProductBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        //View Objects\r\n        textViewName = findViewById<View>(R.id.textViewName) as TextView\r\n        textViewAddres = findViewById<View>(R.id.textViewaddres) as TextView\r\n        textViewedate = findViewById<View>(R.id.textViewedate) as TextView\r\n        textViewcdate = findViewById<View>(R.id.textViewcdate) as TextView\r\n        textViewinfo = findViewById<View>(R.id.textViewinfo) as TextView\r\n\r\n        //intializing scan object\r\n        qrScan = IntentIntegrator(this)\r\n\r\n        //button onClick\r\n        binding.add.setOnClickListener(){ //scan option\r\n            qrScan!!.setPrompt(\"Scanning...\")\r\n            //qrScan.setOrientationLocked(false);\r\n            qrScan!!.initiateScan()\r\n        }\r\n        btnSave = binding.btnSave\r\n        btnFrozenSave=binding.btnFrozenSave\r\n        btnRoomSave=binding.btnRoomSave\r\n\r\n\r\n\r\n\r\n        mDatabase = FirebaseDatabase.getInstance().getReference()\r\n        btnSave!!.setOnClickListener {\r\n            val name = binding.textViewName.text.toString()\r\n            val addres = binding.textViewaddres.text.toString()\r\n            val edate = binding.textViewedate.text.toString()\r\n            val cdate = binding.textViewcdate.text.toString()\r\n            val info = binding.textViewinfo.text.toString()\r\n\r\n\r\n            val productdb= ProductDB(name,addres,edate,cdate,info)\r\n            FirebaseRF.productdb.child(name).setValue(productdb)\r\n            Toast.makeText(this,\"저장성공\",Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n\r\n    //Getting the scan results\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        val result: IntentResult =\r\n            IntentIntegrator.parseActivityResult(requestCode, resultCode, data)\r\n        if (result != null) {\r\n            //qrcode 가 없으면\r\n            if (result.getContents() == null) {\r\n                Toast.makeText(this@ProductActivity, \"취소!\", Toast.LENGTH_SHORT).show()\r\n            } else {\r\n                //qrcode 결과가 있으면\r\n                Toast.makeText(this@ProductActivity, \"스캔완료!\", Toast.LENGTH_SHORT).show()\r\n                try {\r\n                    //data를 json으로 변환\r\n                    val obj: JSONObject = JSONObject(result.getContents())\r\n                    textViewName!!.text = obj.getString(\"name\")\r\n                    textViewAddres!!.text = obj.getString(\"addres\")\r\n                    textViewedate!!.text = obj.getString(\"edate\")\r\n                    textViewcdate!!.text = obj.getString(\"cdate\")\r\n                    textViewinfo!!.text = obj.getString(\"info\")\r\n\r\n                } catch (e: JSONException) {\r\n                    e.printStackTrace()\r\n                }\r\n            }\r\n        } else {\r\n            super.onActivityResult(requestCode, resultCode, data)\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/test/ProductActivity.kt b/app/src/main/java/com/example/test/ProductActivity.kt
--- a/app/src/main/java/com/example/test/ProductActivity.kt	(revision 422cfced86f5df471c493bc93694ca93229e52af)
+++ b/app/src/main/java/com/example/test/ProductActivity.kt	(date 1716907918967)
@@ -9,6 +9,7 @@
 import androidx.appcompat.app.AppCompatActivity
 import com.example.test.databinding.ActivityProductBinding
 import com.example.test.productinfo.FirebaseRF
+import com.example.test.productinfo.FrozenDB
 import com.example.test.productinfo.ProductDB
 import com.google.firebase.database.DatabaseReference
 import com.google.firebase.database.FirebaseDatabase
@@ -38,6 +39,18 @@
         binding = ActivityProductBinding.inflate(layoutInflater)
         setContentView(binding.root)
 
+        binding.btnSave.setOnClickListener {
+            saveProductData("ColdStorage")
+        }
+
+        binding.btnFrozenSave.setOnClickListener {
+            saveProductData("FrozenStorage")
+        }
+
+        binding.btnRoomSave.setOnClickListener {
+            saveProductData("RoomStorage")
+        }
+
         //View Objects
         textViewName = findViewById<View>(R.id.textViewName) as TextView
         textViewAddres = findViewById<View>(R.id.textViewaddres) as TextView
@@ -54,26 +67,9 @@
             //qrScan.setOrientationLocked(false);
             qrScan!!.initiateScan()
         }
-        btnSave = binding.btnSave
-        btnFrozenSave=binding.btnFrozenSave
-        btnRoomSave=binding.btnRoomSave
-
-
-
 
         mDatabase = FirebaseDatabase.getInstance().getReference()
-        btnSave!!.setOnClickListener {
-            val name = binding.textViewName.text.toString()
-            val addres = binding.textViewaddres.text.toString()
-            val edate = binding.textViewedate.text.toString()
-            val cdate = binding.textViewcdate.text.toString()
-            val info = binding.textViewinfo.text.toString()
 
-
-            val productdb= ProductDB(name,addres,edate,cdate,info)
-            FirebaseRF.productdb.child(name).setValue(productdb)
-            Toast.makeText(this,"저장성공",Toast.LENGTH_LONG).show()
-        }
     }
 
     //Getting the scan results
@@ -104,4 +100,48 @@
             super.onActivityResult(requestCode, resultCode, data)
         }
     }
-}
\ No newline at end of file
+
+    private fun saveProductData(storageType: String) {
+        val name = binding.textViewName.text.toString()
+        val address = binding.textViewaddres.text.toString()
+        val cdate = binding.textViewcdate.text.toString()
+        val edate = binding.textViewedate.text.toString()
+        val info = binding.textViewinfo.text.toString()
+
+        val product = ProductDB(name, address, edate, cdate, info)
+        val Frozenproduct = FrozenDB(name, address, edate, cdate, info)
+
+
+        val databaseReference = FirebaseDatabase.getInstance("https://sukbinggotest-default-rtdb.firebaseio.com/")
+            .getReference(storageType)
+
+        databaseReference.push().setValue(product).addOnCompleteListener {
+            if (it.isSuccessful) {
+                Toast.makeText(this,"저장성공",Toast.LENGTH_LONG).show()
+                // Successfully saved to Firebase
+                binding.textViewName.text.clear()
+                binding.textViewaddres.text.clear()
+                binding.textViewcdate.text.clear()
+                binding.textViewedate.text.clear()
+                binding.textViewinfo.text.clear()
+            } else {
+                // Failed to save to Firebase
+            }
+        }
+        databaseReference.push().setValue(Frozenproduct).addOnCompleteListener {
+            if (it.isSuccessful) {
+                Toast.makeText(this,"저장성공",Toast.LENGTH_LONG).show()
+                // Successfully saved to Firebase
+                binding.textViewName.text.clear()
+                binding.textViewaddres.text.clear()
+                binding.textViewcdate.text.clear()
+                binding.textViewedate.text.clear()
+                binding.textViewinfo.text.clear()
+            } else {
+                // Failed to save to Firebase
+            }
+        }
+    }
+
+    }
+
Index: app/src/main/java/com/example/test/FrozenActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.test\r\n\r\nimport androidx.fragment.app.Fragment\r\nimport com.example.test.databinding.ActivityFrozenBinding\r\n\r\nclass FrozenActivity: Fragment() {\r\n\r\n    private lateinit var binding: ActivityFrozenBinding\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/test/FrozenActivity.kt b/app/src/main/java/com/example/test/FrozenActivity.kt
--- a/app/src/main/java/com/example/test/FrozenActivity.kt	(revision 422cfced86f5df471c493bc93694ca93229e52af)
+++ b/app/src/main/java/com/example/test/FrozenActivity.kt	(date 1716912726601)
@@ -1,10 +1,57 @@
 package com.example.test
 
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
 import androidx.fragment.app.Fragment
+import androidx.recyclerview.widget.LinearLayoutManager
 import com.example.test.databinding.ActivityFrozenBinding
+import com.example.test.productinfo.FrozenDB
+import com.example.test.productutils.FrozenAdapter
+import com.example.test.productutils.ProductAdapter
+import com.google.firebase.database.*
 
-class FrozenActivity: Fragment() {
+class FrozenActivity : Fragment() {
+    private var _binding: ActivityFrozenBinding? = null
+    private val binding get() = _binding!!
+
+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
+        _binding = ActivityFrozenBinding.inflate(inflater, container, false)
+        return binding.root
+    }
 
-    private lateinit var binding: ActivityFrozenBinding
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
 
-}
\ No newline at end of file
+        val databaseReference = FirebaseDatabase.getInstance("https://sukbinggotest-default-rtdb.firebaseio.com/")
+            .getReference("FrozenDB")
+        val FproductList = ArrayList<FrozenDB>()
+        val adapter = FrozenAdapter(requireContext(), FproductList)
+
+        binding.frozenlist.layoutManager = LinearLayoutManager(requireContext())
+        binding.frozenlist.adapter = adapter
+
+        databaseReference.addValueEventListener(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                FproductList.clear()
+                for (productSnapshot in snapshot.children) {
+                    val fproduct = productSnapshot.getValue(FrozenDB::class.java)
+                    if (fproduct != null) {
+                        FproductList.add(fproduct)
+                    }
+                }
+                adapter.notifyDataSetChanged()
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+                // Handle possible errors.
+            }
+        })
+    }
+
+    override fun onDestroyView() {
+        super.onDestroyView()
+        _binding = null
+    }
+}
Index: app/src/main/java/com/example/test/productinfo/FrozenDB.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/test/productinfo/FrozenDB.kt b/app/src/main/java/com/example/test/productinfo/FrozenDB.kt
new file mode 100644
--- /dev/null	(date 1716907918950)
+++ b/app/src/main/java/com/example/test/productinfo/FrozenDB.kt	(date 1716907918950)
@@ -0,0 +1,9 @@
+package com.example.test.productinfo
+
+data class FrozenDB(
+    var name:String?=null,
+    var addres:String?=null,
+    var edate:String?=null,
+    var cdate:String?=null,
+    var info:String?=null
+)
